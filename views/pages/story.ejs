<!DOCTYPE html>
<html lang="en">
<head>  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/story.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="story.js" defer></script>
  <title>Test Title</title>
</head>
<body>

<div class="p-5 bg-primary text-white text-center">
  <h1>Test Site</h1>
  <p>Test</p>
</div>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
  <div class="container-fluid">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Account</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/post">Post</a>
      </li>
    </ul>
  </div>
</nav>

<h2><%= story.title || 'Untitled Story' %></h2>
<p><strong>By:</strong> <%= story.name %></p>
<p><%= story.story %></p>

<h3>Rating:</h3>
<% if (story.rating) { %>
    <p>
        <% for (let i = 1; i <= 5; i++) { %>
          <span><%= i <= Math.round(avgRating) ? '⭐' : '☆' %></span>
        <% } %>
    </p><% } else { %>
  <p>No ratings yet. Be the first to rate!</p>
<% } %>

<h3>Rate this story</h3>
<div id="starContainer" class="star-rating" data-story-id="<%= story._id %>">
  <% for (let i = 1; i <= 5; i++) { %>
    <span class="star" data-value="<%= i %>">☆</span>
  <% } %>
</div>
<p id="ratingMessage" class="mt-2"></p>

<!--<h3>Rate this story</h3>
<form action="/rate/<%= story._id %>" method="POST" class="rating-form">
    <div class="star-rating">
      <% for (let i = 5; i >= 1; i--) { %>
        <input type="radio" id="star<%= i %>" name="rating" value="<%= i %>">
        <label for="star<%= i %>" title="<%= i %> stars">⭐</label>
      <% } %>
    </div>
    <button type="submit" class="btn btn-primary mt-2">Submit Rating</button>
  </form>
-->
</body>
</html>
